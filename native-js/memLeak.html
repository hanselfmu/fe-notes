<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Test Mem Leak</title>
</head>

<body>
    <div id="container">hello world memory leak</div>

    <script>
        function cb(e) {
            const c = document.getElementById('container');
            c.parentElement.removeChild(container);
            setTimeout(() => {
                otherCaller(c);
                // otherCaller(e.target);   // won't leak
            }, 3000);
        }

        function otherCaller(obj) {
            obj.a = 1;
        }

        document.getElementById('container').addEventListener('click', cb);
    </script>
</body>

</html>